<!DOCTYPE html>
<html dir="ltr">
<head>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <title>Blog/2016-01 - XOWA</title>
  <link rel="shortcut icon" href="https://gnosygnu.github.io/xowa/xowa_logo.png" />
  <link rel="stylesheet" href="https://gnosygnu.github.io/xowa/xowa_common.css" type="text/css">
  
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject skin-vector action-submit vector-animateLayout" spellcheck="false">
<div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body">
  <h1 id="firstHeading" class="firstHeading"><span>Blog/2016-01</span></h1>
  <div id="bodyContent" class="mw-body-content">
    <div id="siteSub">From XOWA: the free, open-source, offline wiki application</div>
    <div id="contentSub"></div>
    <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
    
    <div class='infobox plainlinks' style='width:70px;'>
      <p>
        <span style='font-size:15px;font-weight:bold;'>Blog links</span><br>
        <br>
        2019<br>
      </p>
      <ul>
        <li>
          <a href="/wiki/Blog/2019-07" id="xolnki_2" title="Blog/2019-07" class="xowa-visited">2019-07</a>
        </li>
        <li>
          <a href="/wiki/Blog/2019-03" id="xolnki_3" title="Blog/2019-03">2019-03</a>
        </li>
      </ul>
      <p>
        2018<br>
      </p>
      <ul>
        <li>
          <a href="/wiki/Blog/2018-01" id="xolnki_4" title="Blog/2018-01">2018-01</a>
        </li>
      </ul>
      <p>
        2017<br>
      </p>
      <ul>
        <li>
          <a href="/wiki/Blog/2017-09" id="xolnki_5" title="Blog/2017-09">2017-09</a>
        </li>
        <li>
          <a href="/wiki/Blog/2017-06" id="xolnki_6" title="Blog/2017-06">2017-06</a>
        </li>
      </ul>
      <p>
        <br>
        <a href="/wiki/Blog/Archives" id="xolnki_7" title="Blog/Archives">Archives</a>
      </p>
    </div>
    <div id="toc" class="toc">
      <div id="toctitle" class="toctitle">
        <h2>
          Contents
        </h2>
      </div>
      <ul>
        <li class="toclevel-1 tocsection-1">
          <a href="#Release:_v3.1.5.1_(2016-01-31_22:00_Sun)"><span class="tocnumber">1</span> <span class="toctext">Release: v3.1.5.1 (2016-01-31 22:00 Sun)</span></a> 
          <ul>
            <li class="toclevel-2 tocsection-2">
              <a href="#Luaj_fixes_for_references_in_2016-01-13_English_Wikipedia"><span class="tocnumber">1.1</span> <span class="toctext">Luaj fixes for references in 2016-01-13 English Wikipedia</span></a>
            </li>
            <li class="toclevel-2 tocsection-3">
              <a href="#Fix_for_German_Wikipedia_and_extremely_wide_pie_charts"><span class="tocnumber">1.2</span> <span class="toctext">Fix for German Wikipedia and extremely wide pie charts</span></a>
            </li>
            <li class="toclevel-2 tocsection-4">
              <a href="#New_PageBanner_extension_for_Wikivoyage"><span class="tocnumber">1.3</span> <span class="toctext">New PageBanner extension for Wikivoyage</span></a>
            </li>
            <li class="toclevel-2 tocsection-5">
              <a href="#(Android)_Show_navboxes_and_other_tables"><span class="tocnumber">1.4</span> <span class="toctext">(Android) Show navboxes and other tables</span></a>
            </li>
            <li class="toclevel-2 tocsection-6">
              <a href="#(Android)_Always_center_table_content"><span class="tocnumber">1.5</span> <span class="toctext">(Android) Always center table content</span></a>
            </li>
            <li class="toclevel-2 tocsection-7">
              <a href="#(Android)_Show_hieroglyphics"><span class="tocnumber">1.6</span> <span class="toctext">(Android) Show hieroglyphics</span></a>
            </li>
            <li class="toclevel-2 tocsection-8">
              <a href="#(Android)_Show_images_with_?_in_file_title"><span class="tocnumber">1.7</span> <span class="toctext">(Android) Show images with ? in file title</span></a>
            </li>
            <li class="toclevel-2 tocsection-9">
              <a href="#Next_release:_v3.2.1"><span class="tocnumber">1.8</span> <span class="toctext">Next release: v3.2.1</span></a>
            </li>
          </ul>
        </li>
        <li class="toclevel-1 tocsection-10">
          <a href="#Release:_v3.1.4.2_(2016-01-28_11:00_Thu)"><span class="tocnumber">2</span> <span class="toctext">Release: v3.1.4.2 (2016-01-28 11:00 Thu)</span></a> 
          <ul>
            <li class="toclevel-2 tocsection-11">
              <a href="#Scribunto_fixes_for_2016-01-13_English_Wikipedia"><span class="tocnumber">2.1</span> <span class="toctext">Scribunto fixes for 2016-01-13 English Wikipedia</span></a>
            </li>
          </ul>
        </li>
        <li class="toclevel-1 tocsection-12">
          <a href="#Release:_v3.1.4.1_(2016-01-24_19:30_Sun)"><span class="tocnumber">3</span> <span class="toctext">Release: v3.1.4.1 (2016-01-24 19:30 Sun)</span></a> 
          <ul>
            <li class="toclevel-2 tocsection-13">
              <a href="#Scribunto_/_Luaj_fixes_for_English_Wiktionary"><span class="tocnumber">3.1</span> <span class="toctext">Scribunto / Luaj fixes for English Wiktionary</span></a>
            </li>
            <li class="toclevel-2 tocsection-14">
              <a href="#Better_HTML_dump_generation_for_English_Wiktionary,_Wikisource,_Wikiquote,_etc._Also,_French_Wikipedia"><span class="tocnumber">3.2</span> <span class="toctext">Better HTML dump generation for English Wiktionary, Wikisource, Wikiquote, etc. Also, French Wikipedia</span></a>
            </li>
            <li class="toclevel-2 tocsection-15">
              <a href="#(Android)_More_responsive_search"><span class="tocnumber">3.3</span> <span class="toctext">(Android) More responsive search</span></a>
            </li>
            <li class="toclevel-2 tocsection-16">
              <a href="#(Android)_Instant_image_loading_when_reloading_page"><span class="tocnumber">3.4</span> <span class="toctext">(Android) Instant image loading when reloading page</span></a>
            </li>
            <li class="toclevel-2 tocsection-17">
              <a href="#(Android)_Fix_for_pages_failing_to_load_if_they_have_spaces_and_colons_in_the_title"><span class="tocnumber">3.5</span> <span class="toctext">(Android) Fix for pages failing to load if they have spaces and colons in the title</span></a>
            </li>
            <li class="toclevel-2 tocsection-18">
              <a href="#Next_release:_v3.1.5"><span class="tocnumber">3.6</span> <span class="toctext">Next release: v3.1.5</span></a>
            </li>
          </ul>
        </li>
        <li class="toclevel-1 tocsection-19">
          <a href="#Release:_v3.1.3.1_(2016-01-17_21:45_Sun)"><span class="tocnumber">4</span> <span class="toctext">Release: v3.1.3.1 (2016-01-17 21:45 Sun)</span></a> 
          <ul>
            <li class="toclevel-2 tocsection-20">
              <a href="#Documentation_for_html-dump_script._See_Dev/Command-line/Dumps"><span class="tocnumber">4.1</span> <span class="toctext">Documentation for html-dump script. See Dev/Command-line/Dumps</span></a>
            </li>
            <li class="toclevel-2 tocsection-21">
              <a href="#Improved_Android_beta,_including_Random,_more_image_display_and_CSS-tweaks._See_https://github.com/gnosygnu/xowa/issues/36"><span class="tocnumber">4.2</span> <span class="toctext">Improved Android beta, including Random, more image display and CSS-tweaks. See https://github.com/gnosygnu/xowa/issues/36</span></a>
            </li>
            <li class="toclevel-2 tocsection-22">
              <a href="#Next_release:_v3.1.4"><span class="tocnumber">4.3</span> <span class="toctext">Next release: v3.1.4</span></a>
            </li>
          </ul>
        </li>
        <li class="toclevel-1 tocsection-23">
          <a href="#Release:_XOWA_(None);_XOWA_Android_(v0.1.2.0)_(2016-01-10_20:30_Sun)"><span class="tocnumber">5</span> <span class="toctext">Release: XOWA (None); XOWA Android (v0.1.2.0) (2016-01-10 20:30 Sun)</span></a> 
          <ul>
            <li class="toclevel-2 tocsection-24">
              <a href="#Next_release:_v3.1.3"><span class="tocnumber">5.1</span> <span class="toctext">Next release: v3.1.3</span></a>
            </li>
          </ul>
        </li>
        <li class="toclevel-1 tocsection-25">
          <a href="#Release:_v3.1.1.1_(2016-01-03_20:00_Sun)"><span class="tocnumber">6</span> <span class="toctext">Release: v3.1.1.1 (2016-01-03 20:00 Sun)</span></a> 
          <ul>
            <li class="toclevel-2 tocsection-26">
              <a href="#Handle_refs_inside_{{#tag}}"><span class="tocnumber">6.1</span> <span class="toctext">Handle refs inside {{#tag}}</span></a>
            </li>
            <li class="toclevel-2 tocsection-27">
              <a href="#Fix_for_incorrect_search_word_counts_and_IPA_links"><span class="tocnumber">6.2</span> <span class="toctext">Fix for incorrect search word counts and IPA links</span></a>
            </li>
            <li class="toclevel-2 tocsection-28">
              <a href="#Trivial_HTML_changes"><span class="tocnumber">6.3</span> <span class="toctext">Trivial HTML changes</span></a>
            </li>
            <li class="toclevel-2 tocsection-29">
              <a href="#Next_release:_v3.1.2"><span class="tocnumber">6.4</span> <span class="toctext">Next release: v3.1.2</span></a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
    <h2>
      <span class="mw-headline" id="Release:_v3.1.5.1_(2016-01-31_22:00_Sun)">Release: v3.1.5.1 (2016-01-31 22:00 Sun)</span>
    </h2>
    <p>
      The desktop app is a major release. It resolves reference errors in 2016-01 English Wikipedia, fixes wide images on German Wikipedia, and adds a new PageBanner extension
    </p>
    <p>
      The Android app is also a major release. It shows more tables, heiroglyphics, and images with a ? in title.
    </p>
    <h3>
      <span class="mw-headline" id="Luaj_fixes_for_references_in_2016-01-13_English_Wikipedia">Luaj fixes for references in 2016-01-13 English Wikipedia</span>
    </h3>
    <p>
      The 2016-01-13 dump had many erros in the reference section due to bugs in Luaj. One of the following would be displayed:
    </p>
    <ul>
      <li>
        Check |archiveurl= value (help)
      </li>
      <li>
        Specials character in |{some word}
      </li>
    </ul>
    <p>
      These were bugs in Luaj with the frontier pattern and multi-byte chars. They were both resolved in this release.
    </p>
    <h3>
      <span class="mw-headline" id="Fix_for_German_Wikipedia_and_extremely_wide_pie_charts">Fix for German Wikipedia and extremely wide pie charts</span>
    </h3>
    <p>
      I'm extremely thankful for this report at <a href="https://github.com/gnosygnu/xowa/issues/38" rel="nofollow" class="external free">https://github.com/gnosygnu/xowa/issues/38</a> There were HTML issues in German Wikipedia because all the wikis rely implicitly on American formatting rules for decimals. For example:
    </p>
    <ul>
      <li>
        The German Wikipedia page for Hausmannstätten specifies a pie chart with a width (Breite) of 0.9 . See: <a href="/site/de.wikipedia.org/wiki/Hausmannst%C3%A4tten?title=Hausmannst%C3%A4tten&amp;action=edit">https://de.wikipedia.org/w/index.php?title=Hausmannst%C3%A4tten&amp;action=edit</a>
      </li>
      <li>
        This value gets multiplied by various numbers in the template. For example: <code>width:{{#expr:18*{{{Breite}}} }}em;</code>. See: <a href="/site/de.wikipedia.org/wiki/Vorlage:Sitzverteilung/?title=Vorlage:Sitzverteilung/&amp;action=edit">https://de.wikipedia.org/w/index.php?title=Vorlage:Sitzverteilung/&amp;action=edit</a>
      </li>
    </ul>
    <p>
      XOWA was doing this multiplication using the user's locale.
    </p>
    <ul>
      <li>
        For US users (like me), <code>18*.9</code> was calculated correctly as <code>16.2</code>
      </li>
      <li>
        For German users though, <code>18*.9</code> was calculated incorrectly as <code>162</code>. 
        <ul>
          <li>
            This was because Java was interpreting the <code>.9</code> using German number-format rules. Since "." is the thousands separator, and "," is the decimal separator, <code>.9</code> became <code>9</code>. For US users, imagine <code>,9</code> becoming <code>9</code>.
          </li>
        </ul>
      </li>
    </ul>
    <p>
      v3.1.5 fixes this issue by asserting that all decimal-parsing is done in the US locale.
    </p>
    <h3>
      <span class="mw-headline" id="New_PageBanner_extension_for_Wikivoyage">New PageBanner extension for Wikivoyage</span>
    </h3>
    <p>
      This was an extension introduced by Wikimedia late last year to standardize the display of the image, icons and table of contents at the top of the page. This involved some considerable work on my side (including a Mustache parser), but XOWA now reproduces the same look.
    </p>
    <h3>
      <span class="mw-headline" id="(Android)_Show_navboxes_and_other_tables">(Android) Show navboxes and other tables</span>
    </h3>
    <p>
      The Wikipedia Mobile app deliberately hides navboxes as well as other tables. I think this is done for the following reasons:
    </p>
    <ul>
      <li>
        These tables were meant for desktop display, and often had wide widths
      </li>
      <li>
        These tables clutter the page.
      </li>
    </ul>
    <p>
      In contrast, I really do like showing as much content as possible, so I decided to show these tables. I'll probably put an option to disable this later, but I'm going to wait first for some feedback from others
    </p>
    <h3>
      <span class="mw-headline" id="(Android)_Always_center_table_content">(Android) Always center table content</span>
    </h3>
    <p>
      This is another deviation from the Wikipedia Mobile app style. Basically most tables are left-aligned and would end before reaching the right-hand side of the page. I changed the CSS to have these tables fill up the entire page and center the content.
    </p>
    <p>
      This has one unfortunate sideback in that it breaks the "Collapse" buttons. I'll try to fix this in a future release, but if I can't, I may remove them entirely.
    </p>
    <h3>
      <span class="mw-headline" id="(Android)_Show_hieroglyphics">(Android) Show hieroglyphics</span>
    </h3>
    <p>
      The early versions of the XOWA Android app did not show hieroglyphics. This is now supported in this build
    </p>
    <h3>
      <span class="mw-headline" id="(Android)_Show_images_with_?_in_file_title">(Android) Show images with ? in file title</span>
    </h3>
    <p>
      This was a bug wherein images that had a ? were not being displayed within the Android WebView. I fixed this by replacing ? with %3F.
    </p>
    <h3>
      <span class="mw-headline" id="Next_release:_v3.2.1">Next release: v3.2.1</span>
    </h3>
    <p>
      I ran into several issues with the 2016-01 English Wikipedia dump that set me back a few days. I'm planning to upload English Wikipedia images and HTML this week, and then continue on with the other English wikis
    </p>
    <p>
      For code, I'm going to tackle performance on the Android search again as well as a few minor UI issues on Android (collapse-table, pinch-zoom)
    </p>
    <h2>
      <span class="mw-headline" id="Release:_v3.1.4.2_(2016-01-28_11:00_Thu)">Release: v3.1.4.2 (2016-01-28 11:00 Thu)</span>
    </h2>
    <p>
      This is an interim release for the desktop app. It fixes script error messages in 2016-01-13 English Wikipedia
    </p>
    <h3>
      <span class="mw-headline" id="Scribunto_fixes_for_2016-01-13_English_Wikipedia">Scribunto fixes for 2016-01-13 English Wikipedia</span>
    </h3>
    <p>
      I accidentally had the wrong dump in place when kicking off the 2016-01-13 build. As such, I didn't spot the issue till this morning after I restarted the build.
    </p>
    <p>
      Basically, the <a href="https://dumps.wikimedia.org/enwiki/20160113/" rel="nofollow" class="external text">2016-01-13 English Wikipedia dump</a> introduced new page admininistration functions. These include {{PROTECTIONEXPIRY}} as well as a Scribunto function called getStabilitySettings. This resulted in a bold red "Script error" message at the top of every protected page. There are a lot of protected pages.
    </p>
    <p>
      v3.1.4.2 resolves both issues. So far, it's stable across 35,000+ pages, but if you run across any issues, please report them. Thanks.
    </p>
    <h2>
      <span class="mw-headline" id="Release:_v3.1.4.1_(2016-01-24_19:30_Sun)">Release: v3.1.4.1 (2016-01-24 19:30 Sun)</span>
    </h2>
    <p>
      The desktop app is a major release. It resolves several wiktionary errors on non-English pages and has better HTML dump generation for other wikis.
    </p>
    <p>
      The Android app is a major release. It has a more responsive search, instant image loading when reloading page, and a fix for pages failing to load if they have spaces and colons in the title.
    </p>
    <h3>
      <span class="mw-headline" id="Scribunto_/_Luaj_fixes_for_English_Wiktionary">Scribunto / Luaj fixes for English Wiktionary</span>
    </h3>
    <p>
      There were several dozen pages with script errors in English Wiktionary. They basically fell into these categories:
    </p>
    <ul>
      <li>
        Luaj / Scribunto errors with MCBS entities in Asian languages (1 glyph; 2 char).
      </li>
      <li>
        Programmatic errors for minor cases 
        <ul>
          <li>
            Recursive gsub calls with lua function
          </li>
          <li>
            Search position returned as int not string
          </li>
        </ul>
      </li>
    </ul>
    <p>
      The build log for English Wiktionary looks a lot cleaner now, though I still have to add some support for the {{categorytree}} function.
    </p>
    <h3>
      <span class="mw-headline" id="Better_HTML_dump_generation_for_English_Wiktionary,_Wikisource,_Wikiquote,_etc._Also,_French_Wikipedia">Better HTML dump generation for English Wiktionary, Wikisource, Wikiquote, etc. Also, French Wikipedia</span>
    </h3>
    <p>
      I ran the HTML dump generator through all the English wikis, as well as French Wikipedia. The results looked good, but there were a lot of log errors that were addressed with this release.
    </p>
    <h3>
      <span class="mw-headline" id="(Android)_More_responsive_search">(Android) More responsive search</span>
    </h3>
    <p>
      Search is still slow on Android. I'll fix this in a future relase, but I'll have to change the format of the search databases.
    </p>
    <p>
      In the interim, I hacked in the following approach. Assume a search term of "Earth":
    </p>
    <ul>
      <li>
        Search for titles that match the term. For example, "Earth". This is fast and usually comes back in 0 - 3 seconds.
      </li>
      <li>
        Search for titles that have the term in any word within the title. For example, "History of Earth". This is moderate and usually comes back in 5 - 10 seconds.
      </li>
      <li>
        Search for titles that have the term starting in any word within the title. For example, "Earthquake". This is slow and usually takes 15 seconds and sometimes more.
      </li>
    </ul>
    <h3>
      <span class="mw-headline" id="(Android)_Instant_image_loading_when_reloading_page">(Android) Instant image loading when reloading page</span>
    </h3>
    <p>
      First, some background. XOWA loads pages in two stages:
    </p>
    <ul>
      <li>
        Show the HTML
      </li>
      <li>
        Fill in the images one by one
      </li>
    </ul>
    <p>
      The 2nd stage is necessary because it takes a few tenths of a second to retrieve an image from the database. For large pages (20+ images), this would delay page load by a few seconds (for example: 20 images * .2 second = 4 seconds).
    </p>
    <p>
      However, once a page is viewed, reloading a page shouldn't have to re-retrieve the image from the database. The previous releases were actually re-retrieving the image. This release just uses the image if it's already there.
    </p>
    <h3>
      <span class="mw-headline" id="(Android)_Fix_for_pages_failing_to_load_if_they_have_spaces_and_colons_in_the_title">(Android) Fix for pages failing to load if they have spaces and colons in the title</span>
    </h3>
    <p>
      This only affects a small minority of items that have a colon and spaces in the title. For example, "List of A:B items". XOWA didn't load this page because the underlying Wikipedia Mobile App was encoding the spaces as +.
    </p>
    <h3>
      <span class="mw-headline" id="Next_release:_v3.1.5">Next release: v3.1.5</span>
    </h3>
    <p>
      I haven't uploaded wikis this week, because I'm working on a blocking item in Wikivoyage (Pagebanner). I'm going to delay another week and focus on updating 2016-01-13 English Wikipedia. This means a new HTML dump which should be available by next Sunday. I'm also hoping to upload the other English wikis, and then continue on to French, etc.
    </p>
    <p>
      Meanwhile, I'm going to delay the Google Play Store a few weeks. If anyone thinks I should go to Google Play Store earlier, please let me know. From my side, there are a number of items that still need polish. If you have any feedback, please do post in <a href="https://github.com/gnosygnu/xowa/issues/36" rel="nofollow" class="external free">https://github.com/gnosygnu/xowa/issues/36</a> I'd appreciate anything: from "Works fine" to "This feature needs some more work".
    </p>
    <p>
      Finally, if you have an Android device and want a wiki for your device, let me know which, and I'll bump it up in priority. The next items in queue are French, German, Chinese and Arabic Wikipedia. I'll get to all the wikis but it may take a few months unless I hear requests otherwise.
    </p>
    <h2>
      <span class="mw-headline" id="Release:_v3.1.3.1_(2016-01-17_21:45_Sun)">Release: v3.1.3.1 (2016-01-17 21:45 Sun)</span>
    </h2>
    <p>
      The desktop app is a trivial release. Its main feature is a help page for generating HTML-dumps
    </p>
    <p>
      The Android app is a major release. It has a Random feature, shows more images, and adds CSS-tweaks.
    </p>
    <h3>
      <span class="mw-headline" id="Documentation_for_html-dump_script._See_Dev/Command-line/Dumps">Documentation for html-dump script. See <a href="/wiki/Dev/Command-line/Dumps" id="xolnki_8" title="Dev/Command-line/Dumps" class="xowa-visited">Dev/Command-line/Dumps</a></span>
    </h3>
    <p>
      This item is self-explanatory. The XOWA Android app is getting more stable, so I felt it would be time to document the generation of the HTML databases.
    </p>
    <h3>
      <span class="mw-headline" id="Improved_Android_beta,_including_Random,_more_image_display_and_CSS-tweaks._See_https://github.com/gnosygnu/xowa/issues/36">Improved Android beta, including Random, more image display and CSS-tweaks. See <a href="https://github.com/gnosygnu/xowa/issues/36" rel="nofollow" class="external free">https://github.com/gnosygnu/xowa/issues/36</a></span>
    </h3>
    <p>
      This build has a number of new features.
    </p>
    <ul>
      <li>
        Random now works in offline mode.
      </li>
      <li>
        All thumb and gallery images should now show up. (approximately 5% of them weren't before)
      </li>
      <li>
        CSS tweaks were added to center the images as well as standardize some background colors
      </li>
    </ul>
    <p>
      You can get the latest release here: <a href="https://github.com/gnosygnu/xowa/releases/" rel="nofollow" class="external free">https://github.com/gnosygnu/xowa/releases/</a>
    </p>
    <h3>
      <span class="mw-headline" id="Next_release:_v3.1.4">Next release: v3.1.4</span>
    </h3>
    <p>
      The Wikimedia dump service resumed, but I'd like to delay French, Polish and Latin for another week. I'm planning to generate HTML dumps for the rest of the English wikis including Wiktionary, Wikisource, Wikivoyage, etc. This will be a good stress test for the new XOWA html-dump format before I continue on to other wikis.
    </p>
    <p>
      I'm also going to continue tweaking the XOWA Android app. If you have a moment to help out with testing, please set it up and give me some feedback: <a href="https://github.com/gnosygnu/xowa/issues/36" rel="nofollow" class="external free">https://github.com/gnosygnu/xowa/issues/36</a>
    </p>
    <h2>
      <span class="mw-headline" id="Release:_XOWA_(None);_XOWA_Android_(v0.1.2.0)_(2016-01-10_20:30_Sun)">Release: XOWA (None); XOWA Android (v0.1.2.0) (2016-01-10 20:30 Sun)</span>
    </h2>
    <p>
      There's no release for the XOWA app tonight. I've spent the week mostly on the Android app, and there were no real changes for the main desktop app.
    </p>
    <p>
      I have released an Alpha of the XOWA Android App. You should check the following links:
    </p>
    <ul>
      <li>
        Android progress thread: <a href="https://github.com/gnosygnu/xowa/issues/36" rel="nofollow" class="external free">https://github.com/gnosygnu/xowa/issues/36</a>
      </li>
      <li>
        Main Github repo (source): <a href="https://github.com/gnosygnu/xowa_android" rel="nofollow" class="external free">https://github.com/gnosygnu/xowa_android</a>
      </li>
      <li>
        Releases page (apk): <a href="https://github.com/gnosygnu/xowa_android/releases/tag/v0.1.2.0" rel="nofollow" class="external free">https://github.com/gnosygnu/xowa_android/releases/tag/v0.1.2.0</a>
      </li>
      <li>
        Simple Wikipedia Android dump: <a href="https://archive.org/details/Xowa_simplewiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_simplewiki_latest</a>
      </li>
    </ul>
    <p>
      If you have Android KitKat or higher and would like to run XOWA on it, I'd be greatly interested in feedback. See the Android progress thread for more details.
    </p>
    <h3>
      <span class="mw-headline" id="Next_release:_v3.1.3">Next release: v3.1.3</span>
    </h3>
    <p>
      I still have some tasks for XOWA Android that I'd like to work on this week. I am going to try to release the main app next week, but if there are no new changes it may slip again in favor of an update of the XOWA Android release
    </p>
    <p>
      I haven't generated any wikis this week as the dump service seems to have come to a halt. Whenever it resumes, I'll pick up again with the promised updates of French, Polish and Greek
    </p>
    <h2>
      <span class="mw-headline" id="Release:_v3.1.1.1_(2016-01-03_20:00_Sun)">Release: v3.1.1.1 (2016-01-03 20:00 Sun)</span>
    </h2>
    <p>
      v3.1.1 is a minor release. It has a few fixes for some English Wikipedia pages, and many trivial HTML changes.
    </p>
    <h3>
      <span class="mw-headline" id="Handle_refs_inside_{{#tag}}">Handle refs inside {{#tag}}</span>
    </h3>
    <p>
      I only saw this issue on one page in English Wikipedia (United Kingdom), but it has potential for more effects. Basically, XOWA did not handle &lt;ref&gt; inside a {{#tag}}. For example: {{#tag:ref|&lt;ref&gt;a&lt;/ref&gt;}}. For the United Kingdom page, this threw off the format, and made the Infobox as wide as the entire page.
    </p>
    <h3>
      <span class="mw-headline" id="Fix_for_incorrect_search_word_counts_and_IPA_links">Fix for incorrect search word counts and IPA links</span>
    </h3>
    <p>
      There was a minor issue with incorrect search counts for words. I don't think this affects anything for desktop searches, but it did throw off the Android search.
    </p>
    <p>
      Meanwhile, due to incorrect URL generation, IPA links would not download from the web after being clicked.
    </p>
    <h3>
      <span class="mw-headline" id="Trivial_HTML_changes">Trivial HTML changes</span>
    </h3>
    <p>
      v3.1.1 has a bunch of HTML changes to make it slightly closer to MediaWiki's HTML.
    </p>
    <ul>
      <li>
        The most significant one is the removal of the magnify icon, which is now being handled in CSS as opposed to a separate &lt;img&gt; tag.
      </li>
      <li>
        There are a few other ones affecting incorrect escaping of quotes. This would cause incomplete titles when hovering over images or links.
      </li>
      <li>
        Finally there are minor whitespace / attribute generation issues. None of these should be noticeable; they were made to handle log messages during bulk HTML generation
      </li>
    </ul>
    <h3>
      <span class="mw-headline" id="Next_release:_v3.1.2">Next release: v3.1.2</span>
    </h3>
    <p>
      I was on track to release the new Android version tonight, but ran into a last minute issue with thumbs and English Wikipedia. I'm pushing this out another week.
    </p>
    <p>
      For wikis, I'll work on the French Wikipedia refresh, and try to add on Polish and Greek.
    </p>
    <p>
      Finally, an apology to those I've promised minor changes. I've spent a lot of time on Android recently, and there's been a backlog of items. I'm hoping to be done with the Android version in the next few weeks and will work on these items as I get time.
    </p>
  
    </div>
  </div>
</div>


<div id="mw-head" class="noprint">
  <div id="left-navigation">
    <div id="p-namespaces" class="vectorTabs">
      <h3>Namespaces</h3>
      <ul>
        <li  id="ca-nstab-main" class="selected"><span><a id="ca-nstab-main-href" href="index.html">Page</a></span></li>
      </ul>
    </div>
  </div>
</div>

<div id='mw-panel' class='noprint'>
  <div id='p-logo'>
    <a style="background-image: url(https://gnosygnu.github.io/xowa/xowa_logo.png);" href="http://xowa.org/" title="Visit the main page"></a>
  </div>
  <div class="portal" id='xowa-portal-home'>
    <h3>XOWA</h3>
    <div class="body">
      <ul>
        <li><a href="http://xowa.org/index.html" title='Visit the main page'>Main page</a></li>
        <li><a href="http://xowa.org/screenshots.html" title='See screenshots of XOWA'>Screenshots</a></li>
        <li><a href="https://www.youtube.com/watch?v=q0qbXYXEH6M" title="See a video of XOWA Desktop in action">Video</a></li>
        <li><a href="http://xowa.org/home/wiki/Help/Download_XOWA.html" title='Download the XOWA application'>Download XOWA</a></li>
        <li><a href="http://xowa.org/home/wiki/Dashboard/Image_databases.html" title='Download offline wikis and image databases'>Download wikis</a></li>
      </ul>
    </div>
  </div>

  <div class="portal" id='xowa-portal-started'>
    <h3>Getting started</h3>
    <div class="body">
      <ul>
        <li><a href="http://xowa.org/home/wiki/App/Setup/System_requirements.html" title='Get XOWA&apos;s system requirements'>Requirements</a></li>
        <li><a href="http://xowa.org/home/wiki/App/Setup/Installation.html" title='Get instructions for installing XOWA'>Installation</a></li>
        <li><a href="http://xowa.org/home/wiki/App/Import/Simple_Wikipedia.html" title='Learn how to set up Simple Wikipedia'>Simple Wikipedia</a></li>
        <li><a href="http://xowa.org/home/wiki/App/Import/English_Wikipedia.html" title='Learn how to set up English Wikipedia'>English Wikipedia</a></li>
        <li><a href="http://xowa.org/home/wiki/App/Import/Other_wikis.html" title='Learn how to set up other Wikipedias'>Other Wikipedias</a></li>
      </ul>
    </div>
  </div>

  <div class="portal" id='xowa-portal-android'>
    <h3>Android</h3>
    <div class="body">
      <ul>
        <li><a href="http://xowa.org/home/wiki/Android/Setup.html" title='Setup XOWA on your Android device'>Setup</a></li>
        <li><a href="https://www.youtube.com/watch?v=jsMTBxGweUw" title="See a video of XOWA Android in action">Video</a></li>
      </ul>
    </div>
  </div>

  <div class="portal" id='xowa-portal-help'>
    <h3>Help</h3>
    <div class="body">
      <ul>
        <li><a href="http://xowa.org/home/wiki/Help/About.html" title='Get more information about XOWA'>About</a></li>
        <li><a href="http://xowa.org/home/wiki/Help/Contents.html" title='View a list of help topics'>Contents</a></li>
        <li><a href="http://xowa.org/home/wiki/Help/Media.html" title='Read what others have written about XOWA'>Media</a></li>
        <li><a href="http://xowa.org/home/wiki/Help/Feedback.html" title='Questions? Comments? Leave feedback for XOWA'>Feedback</a></li>
      </ul>
    </div>
  </div>
  
  <div class="portal" id='xowa-portal-blog'>
    <h3>Blog</h3>
    <div class="body">
      <ul>
        <li><a href="http://xowa.org/home/wiki/Blog.html" title='Follow XOWA''s development process'>Current</a></li>
      </ul>
    </div>
  </div>

  <div class="portal" id='xowa-portal-links'>
    <h3>Links</h3>
    <div class="body">
      <ul>
        <li><a href="http://dumps.wikimedia.org/backup-index.html" title="Get wiki datababase dumps directly from Wikimedia">Wikimedia dumps</a></li>
        <li><a href="https://archive.org/search.php?query=xowa" title="Search archive.org for XOWA files">XOWA @ archive.org</a></li>
        <li><a href="http://en.wikipedia.org" title="Visit Wikipedia (and compare to XOWA!)">English Wikipedia</a></li>
      </ul>
    </div>
  </div>

  <div class="portal" id='xowa-portal-donate'>
    <h3>Donate</h3>
    <div class="body">
      <ul>
        <li><a href="https://archive.org/donate/index.php" title="Support archive.org!">archive.org</a></li><!-- listed first due to recent fire damages: http://blog.archive.org/2013/11/06/scanning-center-fire-please-help-rebuild/ -->
        <li><a href="https://donate.wikimedia.org/wiki/Special:FundraiserRedirector" title="Support Wikipedia!">Wikipedia</a></li>
        <li><a href="http://xowa.org/home/wiki/Help/Donate.html" title="Support XOWA!">XOWA</a></li>
      </ul>
    </div>
  </div>
  
</div>
</body>
</html>