<!DOCTYPE html>
<html dir="ltr">
<head>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <title>Blog/2016-07 - XOWA</title>
  <link rel="shortcut icon" href="https://gnosygnu.github.io/xowa/xowa_logo.png" />
  <link rel="stylesheet" href="https://gnosygnu.github.io/xowa/xowa_common.css" type="text/css">
  
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject skin-vector action-submit vector-animateLayout" spellcheck="false">
<div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body">
  <h1 id="firstHeading" class="firstHeading"><span>Blog/2016-07</span></h1>
  <div id="bodyContent" class="mw-body-content">
    <div id="siteSub">From XOWA: the free, open-source, offline wiki application</div>
    <div id="contentSub"></div>
    <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
    
    <div class='infobox plainlinks' style='width:70px;'>
      <p>
        <span style='font-size:15px;font-weight:bold;'>Blog links</span><br>
        <br>
        2017<br>
      </p>
      <ul>
        <li>
          <a href="http://xowa.org/home/wiki/Blog/2017-04.html" id="xolnki_2" title="Blog/2017-04" class="xowa-visited">2017-04</a>
        </li>
        <li>
          <a href="http://xowa.org/home/wiki/Blog/2017-03.html" id="xolnki_3" title="Blog/2017-03" class="xowa-visited">2017-03</a>
        </li>
        <li>
          <a href="http://xowa.org/home/wiki/Blog/2017-02.html" id="xolnki_4" title="Blog/2017-02">2017-02</a>
        </li>
      </ul>
      <p>
        2016<br>
      </p>
      <ul>
        <li>
          <a href="http://xowa.org/home/wiki/Blog/2017-01.html" id="xolnki_5" title="Blog/2017-01">2017-01</a>
        </li>
        <li>
          <a href="http://xowa.org/home/wiki/Blog/2016-12.html" id="xolnki_6" title="Blog/2016-12">2016-12</a>
        </li>
        <li>
          <a href="http://xowa.org/home/wiki/Blog/2016-11.html" id="xolnki_7" title="Blog/2016-11">2016-11</a>
        </li>
        <li>
          <a href="http://xowa.org/home/wiki/Blog/2016-10.html" id="xolnki_8" title="Blog/2016-10">2016-10</a>
        </li>
        <li>
          <a href="http://xowa.org/home/wiki/Blog/2016-09.html" id="xolnki_9" title="Blog/2016-09">2016-09</a>
        </li>
        <li>
          <a href="http://xowa.org/home/wiki/Blog/2016-08.html" id="xolnki_10" title="Blog/2016-08">2016-08</a>
        </li>
        <li>
          <b>2016-07</b>
        </li>
        <li>
          <a href="http://xowa.org/home/wiki/Blog/2016-06.html" id="xolnki_12" title="Blog/2016-06">2016-06</a>
        </li>
        <li>
          <a href="http://xowa.org/home/wiki/Blog/2016-05.html" id="xolnki_13" title="Blog/2016-05">2016-05</a>
        </li>
      </ul>
      <p>
        <a href="http://xowa.org/home/wiki/Blog/Archives.html" id="xolnki_14" title="Blog/Archives" class="xowa-visited">Archives</a>
      </p>
    </div>
    <div id="toc" class="toc">
      <div id="toctitle">
        <h2>
          Contents
        </h2>
      </div>
      <ul>
        <li class="toclevel-1 tocsection-1">
          <a href="#Release:_v3.7.4.1_.282016-07-25_19:00_Mon.29"><span class="tocnumber">1</span> <span class="toctext">Release: v3.7.4.1 (2016-07-25 19:00 Mon)</span></a> 
          <ul>
            <li class="toclevel-2 tocsection-2">
              <a href="#.28Wiki.29_Publish_2016-07_English_Wikipedia"><span class="tocnumber">1.1</span> <span class="toctext">(Wiki) Publish 2016-07 English Wikipedia</span></a>
            </li>
            <li class="toclevel-2 tocsection-3">
              <a href="#.28Android.29_Add_screen_to_change_wiki_location_for_Download_Central"><span class="tocnumber">1.2</span> <span class="toctext">(Android) Add screen to change wiki location for Download Central</span></a>
            </li>
            <li class="toclevel-2 tocsection-4">
              <a href="#.28PC.29_Fix_automatic_deletion_of_pagelinks_file"><span class="tocnumber">1.3</span> <span class="toctext">(PC) Fix automatic deletion of pagelinks file</span></a>
            </li>
            <li class="toclevel-2 tocsection-5">
              <a href="#Next_release:_v3.8.1"><span class="tocnumber">1.4</span> <span class="toctext">Next release: v3.8.1</span></a>
            </li>
          </ul>
        </li>
        <li class="toclevel-1 tocsection-6">
          <a href="#Release:_POSTPONED_.282016-07-24_23:00_Sun.29"><span class="tocnumber">2</span> <span class="toctext">Release: POSTPONED (2016-07-24 23:00 Sun)</span></a>
        </li>
        <li class="toclevel-1 tocsection-7">
          <a href="#Release:_v3.7.3.1_.282016-07-17_20:30_Sun.29"><span class="tocnumber">3</span> <span class="toctext">Release: v3.7.3.1 (2016-07-17 20:30 Sun)</span></a> 
          <ul>
            <li class="toclevel-2 tocsection-8">
              <a href="#.28Wiki.29_Publish_2016-07_French_Wikipedia.2C_Wiktionary.2C_Wikisource.2C_Wikivoyage.2C_Wikiquote.2C_Wikibooks.2C_Wikiversity.2C_and_Wikinews"><span class="tocnumber">3.1</span> <span class="toctext">(Wiki) Publish 2016-07 French Wikipedia, Wiktionary, Wikisource, Wikivoyage, Wikiquote, Wikibooks, Wikiversity, and Wikinews</span></a>
            </li>
            <li class="toclevel-2 tocsection-9">
              <a href="#.28PC.29_Fix_Redirects_not_working_for_HTML_databases"><span class="tocnumber">3.2</span> <span class="toctext">(PC) Fix Redirects not working for HTML databases</span></a>
            </li>
            <li class="toclevel-2 tocsection-10">
              <a href="#.28PC.29_Fix_minor_Table_of_Contents_issues_for_Wikitext_.2F_HTML_databases"><span class="tocnumber">3.3</span> <span class="toctext">(PC) Fix minor Table of Contents issues for Wikitext / HTML databases</span></a>
            </li>
            <li class="toclevel-2 tocsection-11">
              <a href="#Next_release:_v3.7.4"><span class="tocnumber">3.4</span> <span class="toctext">Next release: v3.7.4</span></a>
            </li>
          </ul>
        </li>
        <li class="toclevel-1 tocsection-12">
          <a href="#Release:_v3.7.2.1_.282016-07-10_21:00_Sun.29"><span class="tocnumber">4</span> <span class="toctext">Release: v3.7.2.1 (2016-07-10 21:00 Sun)</span></a> 
          <ul>
            <li class="toclevel-2 tocsection-13">
              <a href="#.28Wiki.29_Publish_2016-07_Haitian_Wikipedia"><span class="tocnumber">4.1</span> <span class="toctext">(Wiki) Publish 2016-07 Haitian Wikipedia</span></a>
            </li>
            <li class="toclevel-2 tocsection-14">
              <a href="#.28PC.29_Fix_2016-07_English_Wikipedia_import_failure"><span class="tocnumber">4.2</span> <span class="toctext">(PC) Fix 2016-07 English Wikipedia import failure</span></a>
            </li>
            <li class="toclevel-2 tocsection-15">
              <a href="#.28Server.29_Fix_images_not_showing_for_Wikitext_databases"><span class="tocnumber">4.3</span> <span class="toctext">(Server) Fix images not showing for Wikitext databases</span></a>
            </li>
            <li class="toclevel-2 tocsection-16">
              <a href="#.28PC.29_Add_Table_of_Contents_support_for_HTML_databases_on_the_PC"><span class="tocnumber">4.4</span> <span class="toctext">(PC) Add Table of Contents support for HTML databases on the PC</span></a>
            </li>
            <li class="toclevel-2 tocsection-17">
              <a href="#.28PC.29_Include_mwad_.28MediaWiki_API_dump.29_for_creating_XML_dumps_for_Wikia_and_other_wikis_.7Bcontributed_by_Mattze96.7D"><span class="tocnumber">4.5</span> <span class="toctext">(PC) Include mwad (MediaWiki API dump) for creating XML dumps for Wikia and other wikis {contributed by Mattze96}</span></a>
            </li>
            <li class="toclevel-2 tocsection-18">
              <a href="#.28PC.29_Fix_minor_Wikibase_issues.2C_including_wikibase-item"><span class="tocnumber">4.6</span> <span class="toctext">(PC) Fix minor Wikibase issues, including wikibase-item</span></a>
            </li>
            <li class="toclevel-2 tocsection-19">
              <a href="#.28PC.29_Target_Java_1.7.2C_not_Java_1.8"><span class="tocnumber">4.7</span> <span class="toctext">(PC) Target Java 1.7, not Java 1.8</span></a>
            </li>
            <li class="toclevel-2 tocsection-20">
              <a href="#Next_release:_v3.7.3"><span class="tocnumber">4.8</span> <span class="toctext">Next release: v3.7.3</span></a>
            </li>
          </ul>
        </li>
        <li class="toclevel-1 tocsection-21">
          <a href="#Release:_v3.7.1.2_.282016-07-03_23:40_Sun.29"><span class="tocnumber">5</span> <span class="toctext">Release: v3.7.1.2 (2016-07-03 23:40 Sun)</span></a> 
          <ul>
            <li class="toclevel-2 tocsection-22">
              <a href="#.28PC_.26_Android.29_Fix_broken_search_for_multiple_words_in_2016-05_wikis_and_earlier"><span class="tocnumber">5.1</span> <span class="toctext">(PC &amp; Android) Fix broken search for multiple words in 2016-05 wikis and earlier</span></a>
            </li>
          </ul>
        </li>
        <li class="toclevel-1 tocsection-23">
          <a href="#Release:_v3.7.1.1_.282016-07-03_18:00_Sun.29"><span class="tocnumber">6</span> <span class="toctext">Release: v3.7.1.1 (2016-07-03 18:00 Sun)</span></a> 
          <ul>
            <li class="toclevel-2 tocsection-24">
              <a href="#.28Wiki.29_2016-06_German_Wiktionary.2C_Wikisource.2C_Wikivoyage.2C_Wikiquote.2C_Wikibooks.2C_Wikiversity.2C_and_Wikinews"><span class="tocnumber">6.1</span> <span class="toctext">(Wiki) 2016-06 German Wiktionary, Wikisource, Wikivoyage, Wikiquote, Wikibooks, Wikiversity, and Wikinews</span></a>
            </li>
            <li class="toclevel-2 tocsection-25">
              <a href="#.28PC.29_Support_Gallery"><span class="tocnumber">6.2</span> <span class="toctext">(PC) Support Gallery</span></a>
            </li>
            <li class="toclevel-2 tocsection-26">
              <a href="#.28PC_.26_Android.29_More_minor_fixes_for_Download_Central_including_connection_disruption_and_WAKE_LOCK_fixes"><span class="tocnumber">6.3</span> <span class="toctext">(PC &amp; Android) More minor fixes for Download Central including connection disruption and WAKE_LOCK fixes</span></a>
            </li>
            <li class="toclevel-2 tocsection-27">
              <a href="#.28Android.29_Multiple_fixes_for_severe_crashes"><span class="tocnumber">6.4</span> <span class="toctext">(Android) Multiple fixes for severe crashes</span></a>
            </li>
            <li class="toclevel-2 tocsection-28">
              <a href="#Next_release:_v3.7.2"><span class="tocnumber">6.5</span> <span class="toctext">Next release: v3.7.2</span></a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
    <h2>
      <span class="mw-headline" id="Release:_v3.7.4.1_.282016-07-25_19:00_Mon.29">Release: v3.7.4.1 (2016-07-25 19:00 Mon)</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=Release:_v3.7.4.1_.282016-07-25_19:00_Mon.29" title="Edit section: Release:_v3.7.4.1_.282016-07-25_19:00_Mon.29" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h2>
    <p>
      The PC version is a minor release. It fixes a build issue when building wikis from old dumps by command-line script.
    </p>
    <p>
      The Android version is a major release. It has a new screen to change the wiki location for Download Central
    </p>
    <h3>
      <span class="mw-headline" id=".28Wiki.29_Publish_2016-07_English_Wikipedia">(Wiki) Publish 2016-07 English Wikipedia</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=.28Wiki.29_Publish_2016-07_English_Wikipedia" title="Edit section: .28Wiki.29_Publish_2016-07_English_Wikipedia" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h3>
    <p>
      The 2016-07 versions of English Wikipedia is up. You can get them through <a href="http://xowa.org/home/wiki/Special:XowaDownloadCentral.html" id="xolnki_15" title="Special:XowaDownloadCentral" class="xowa-visited">Download Central</a>.
    </p>
    <p>
      For images, if you want the latest:
    </p>
    <ul>
      <li>
        If you are a current user of 2016-06 English Wikipedia, you only need to download the 2016-07 Image Update to get the latest images.
      </li>
      <li>
        If you are a brand new user, you will need to download 2016-06 and 2016-07 Images
      </li>
    </ul>
    <p>
      For articles, if you want the latest:
    </p>
    <ul>
      <li>
        Regardless of whether or not you're a current user or a brand new user, you will need to download the entire 2016-07 Articles. There is no incremental version of the articles dump, though I'd like to have one up by end of the year.
      </li>
    </ul>
    <h3>
      <span class="mw-headline" id=".28Android.29_Add_screen_to_change_wiki_location_for_Download_Central">(Android) Add screen to change wiki location for Download Central</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=.28Android.29_Add_screen_to_change_wiki_location_for_Download_Central" title="Edit section: .28Android.29_Add_screen_to_change_wiki_location_for_Download_Central" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h3>
    <p>
      First, some background. XOWA Android tries to use the external SD card for downloading wikis. Unfortunately, this is not easy, as different devices may have different paths for the external SD card (it varies by Android version as well as by manufacturer). If XOWA doesn't guess correctly, then the wikis will be downloaded to internal memory
    </p>
    <p>
      In v3.7.1, I added some logic to try to correctly detect the external SD card for one device (BLU on Android Lollipop). In the process, I ended up making the detection worse for other devices.
    </p>
    <p>
      v3.7.4 attempts to fix this by reverting back to the previous detection strategy. In addition, I also included a new "folder selection" screen to manually choose the external SD card.
    </p>
    <p>
      You can access this folder selection screen by clicking the "folder" icon in Download Central. Note that you will need to restart the app after you change the folder.
    </p>
    <p>
      Note that you can always manually download the wiki from archive.org and import them using the "XOWA file browser". The "XOWA file browser" is available through the "folder" icon on the "XOWA" Wikis page.
    </p>
    <h3>
      <span class="mw-headline" id=".28PC.29_Fix_automatic_deletion_of_pagelinks_file">(PC) Fix automatic deletion of pagelinks file</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=.28PC.29_Fix_automatic_deletion_of_pagelinks_file" title="Edit section: .28PC.29_Fix_automatic_deletion_of_pagelinks_file" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h3>
    <p>
      This was a minor bug with building wikis by command-line import for historical wikis (for example, English Wikipedia from 2016-01).
    </p>
    <p>
      XOWA would automatically delete all .gz files <b>after</b> the wiki was built but <b>before</b> the search score was built. This deletion was part of some over-zelous cleanup which deleted all .gz files, not just those that have been used. The .gz-deletion crashed the command-line build because it caused the pagelinks file to be deleted before it was used.
    </p>
    <p>
      I never caught this because I always work with the current dumps. For current dumps, the XOWA command-line script has a command (util.download) which automatically unzips the .gz file to .sql. The deleted .gz file didn't affect the build because the .sql file was available.
    </p>
    <p>
      v3.7.4 now only deletes .gz file after it is used.
    </p>
    <h3>
      <span class="mw-headline" id="Next_release:_v3.8.1">Next release: v3.8.1</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=Next_release:_v3.8.1" title="Edit section: Next_release:_v3.8.1" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h3>
    <ul>
      <li>
        <b>Wikis</b>: I'm going to do Arabic this week.
      </li>
      <li>
        <b>New HTML database generator</b>: I've still been working on the HTML generator. It's about 95% there, but the last 5% is pretty hard. I'm hoping it will be ready for 2016-08 English Wikipedia
      </li>
      <li>
        <b>mwad support</b>: This has slipped another week.
      </li>
      <li>
        <b>Redlinks for HTTP Server</b>: This too has also slipped another week.
      </li>
    </ul>
    <h2>
      <span class="mw-headline" id="Release:_POSTPONED_.282016-07-24_23:00_Sun.29">Release: POSTPONED (2016-07-24 23:00 Sun)</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=Release:_POSTPONED_.282016-07-24_23:00_Sun.29" title="Edit section: Release:_POSTPONED_.282016-07-24_23:00_Sun.29" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h2>
    <p>
      I'm postponing the release till tomorrow night. I'll post again then. Thanks.
    </p>
    <h2>
      <span class="mw-headline" id="Release:_v3.7.3.1_.282016-07-17_20:30_Sun.29">Release: v3.7.3.1 (2016-07-17 20:30 Sun)</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=Release:_v3.7.3.1_.282016-07-17_20:30_Sun.29" title="Edit section: Release:_v3.7.3.1_.282016-07-17_20:30_Sun.29" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h2>
    <p>
      The PC version is a major release. It fixes redirects for HTML databases and minor TOC issues.
    </p>
    <p>
      The Android version has no release.
    </p>
    <h3>
      <span class="mw-headline" id=".28Wiki.29_Publish_2016-07_French_Wikipedia.2C_Wiktionary.2C_Wikisource.2C_Wikivoyage.2C_Wikiquote.2C_Wikibooks.2C_Wikiversity.2C_and_Wikinews">(Wiki) Publish 2016-07 French Wikipedia, Wiktionary, Wikisource, Wikivoyage, Wikiquote, Wikibooks, Wikiversity, and Wikinews</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=.28Wiki.29_Publish_2016-07_French_Wikipedia.2C_Wiktionary.2C_Wikisource.2C_Wikivoyage.2C_Wikiquote.2C_Wikibooks.2C_Wikiversity.2C_and_Wikinews" title="Edit section: .28Wiki.29_Publish_2016-07_French_Wikipedia.2C_Wiktionary.2C_Wikisource.2C_Wikivoyage.2C_Wikiquote.2C_Wikibooks.2C_Wikiversity.2C_and_Wikinews" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h3>
    <p>
      The 2016-07 versions of the French Wikis are up. You can get them through <a href="http://xowa.org/home/wiki/Special:XowaDownloadCentral.html" id="xolnki_16" title="Special:XowaDownloadCentral" class="xowa-visited">Download Central</a>.
    </p>
    <h3>
      <span class="mw-headline" id=".28PC.29_Fix_Redirects_not_working_for_HTML_databases">(PC) Fix Redirects not working for HTML databases</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=.28PC.29_Fix_Redirects_not_working_for_HTML_databases" title="Edit section: .28PC.29_Fix_Redirects_not_working_for_HTML_databases" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h3>
    <p>
      I discovered that HTML databases didn't support redirects. So, if page "A" was a redirect to page "B", going to page "A" opened up a blank page.
    </p>
    <p>
      With v3.7.3.1, going to page "A" now redirects correctly to page "B".
    </p>
    <h3>
      <span class="mw-headline" id=".28PC.29_Fix_minor_Table_of_Contents_issues_for_Wikitext_.2F_HTML_databases">(PC) Fix minor Table of Contents issues for Wikitext / HTML databases</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=.28PC.29_Fix_minor_Table_of_Contents_issues_for_Wikitext_.2F_HTML_databases" title="Edit section: .28PC.29_Fix_minor_Table_of_Contents_issues_for_Wikitext_.2F_HTML_databases" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h3>
    <p>
      There were a number of minor Table of Contents (TOC) issues where clicking on the TOC would not scroll down to the correct header section.
    </p>
    <p>
      They fell into 3 categories:
    </p>
    <ul>
      <li>
        TOC items with a &lt;br/&gt;
      </li>
      <li>
        TOC items wherein two were a duplicate and a third was a duplicate with a " 2" suffix. For exampe: 2 sections both titled "Example" and 1 section titled "Example 2"
      </li>
      <li>
        TOC items with a reference or other structural html (list; table; etc)
      </li>
    </ul>
    <p>
      There is also a notable entry for Wikivoyage Pagebanner items which also generates a TOC, but embedded in the page banner image.
    </p>
    <p>
      The fix for all this turned out to be surprisingly complicated and took up a good deal of time this week. They will only work for all Wikitext wikis, and all HTML wikis generated after this week.
    </p>
    <p>
      Note that aside from the Wikivoyage item, the other TOC items probably affect &lt; .1% of all pages.
    </p>
    <h3>
      <span class="mw-headline" id="Next_release:_v3.7.4">Next release: v3.7.4</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=Next_release:_v3.7.4" title="Edit section: Next_release:_v3.7.4" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h3>
    <ul>
      <li>
        <b>Wikis</b>: I think 2016-07 English Wikipedia is done, and will be proofing it this week. I'll also try to start Arabic.
      </li>
      <li>
        <b>New HTML database generator</b>: I've been working on this for about two weeks. Basically, I'm rewriting the HTML database process so that it supports multiple-threads. I'm planning to test generating wikis with the new process this week, though I think I may not fully replace wiki generation for another 2 weeks.
      </li>
      <li>
        <b>mwad support</b>: I didn't get a chance to look at status-bar integration this week. It's been pushed to this week.
      </li>
      <li>
        <b>Redlinks for HTTP Server</b>: This too has also slipped a week. Next week looks doubtful as well.
      </li>
    </ul>
    <p>
      <br>
    </p>
    <h2>
      <span class="mw-headline" id="Release:_v3.7.2.1_.282016-07-10_21:00_Sun.29">Release: v3.7.2.1 (2016-07-10 21:00 Sun)</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=Release:_v3.7.2.1_.282016-07-10_21:00_Sun.29" title="Edit section: Release:_v3.7.2.1_.282016-07-10_21:00_Sun.29" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h2>
    <p>
      The PC version is a major release. It fixes a breaking change for importing 2016-07 wikis. It also adds Table of Contents for HTML databases, fixes an HTTP server bug, and includes mwad -- a new utility for creating XML dumps
    </p>
    <p>
      The Android version is a minor release. It handles the new 2016-07 wikis and the Table of Contents support.
    </p>
    <h3>
      <span class="mw-headline" id=".28Wiki.29_Publish_2016-07_Haitian_Wikipedia">(Wiki) Publish 2016-07 Haitian Wikipedia</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=.28Wiki.29_Publish_2016-07_Haitian_Wikipedia" title="Edit section: .28Wiki.29_Publish_2016-07_Haitian_Wikipedia" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h3>
    <p>
      I fell behind on French wikis this week while waiting for the new month's dumps. French Wikipedia is uploading now, and the rest will be generated and uploaded during the week.
    </p>
    <p>
      In the meantime, I added Haitian Wikipedia as per the request at <a href="https://github.com/gnosygnu/xowa/issues/67" rel="nofollow" class="external free">https://github.com/gnosygnu/xowa/issues/67</a>
    </p>
    <h3>
      <span class="mw-headline" id=".28PC.29_Fix_2016-07_English_Wikipedia_import_failure">(PC) Fix 2016-07 English Wikipedia import failure</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=.28PC.29_Fix_2016-07_English_Wikipedia_import_failure" title="Edit section: .28PC.29_Fix_2016-07_English_Wikipedia_import_failure" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h3>
    <p>
      2016-07 English Wikipedia failed to import. This was due to the categorylinks.sql file and some specific SQL parsing in XOWA.
    </p>
    <p>
      v3.7.2.1 resolves this issue, and English Wikipedia now imports correctly
    </p>
    <h3>
      <span class="mw-headline" id=".28Server.29_Fix_images_not_showing_for_Wikitext_databases">(Server) Fix images not showing for Wikitext databases</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=.28Server.29_Fix_images_not_showing_for_Wikitext_databases" title="Edit section: .28Server.29_Fix_images_not_showing_for_Wikitext_databases" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h3>
    <p>
      This was kindly reported by ve3lst in <a href="https://github.com/gnosygnu/xowa/issues/68" rel="nofollow" class="external free">https://github.com/gnosygnu/xowa/issues/68</a> I broke images for Wikitext databases back in v3.6.4.3. Note that images do show for HTML databases (databases from Download Central).
    </p>
    <p>
      v3.7.2.1 resolves this issue. Viewing a page on the HTTP Server will now shows images.
    </p>
    <h3>
      <span class="mw-headline" id=".28PC.29_Add_Table_of_Contents_support_for_HTML_databases_on_the_PC">(PC) Add Table of Contents support for HTML databases on the PC</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=.28PC.29_Add_Table_of_Contents_support_for_HTML_databases_on_the_PC" title="Edit section: .28PC.29_Add_Table_of_Contents_support_for_HTML_databases_on_the_PC" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h3>
    <p>
      v3.7.2.1 now generates Table of Contents for HTML databases on the PC. Note that this only affects new wikis such as Haitian and French. The 2016-07 version of English Wikipedia will have them when I release it next week. I'll redo German Wikipedia later to include this as well.
    </p>
    <h3>
      <span class="mw-headline" id=".28PC.29_Include_mwad_.28MediaWiki_API_dump.29_for_creating_XML_dumps_for_Wikia_and_other_wikis_.7Bcontributed_by_Mattze96.7D">(PC) Include mwad (MediaWiki API dump) for creating XML dumps for Wikia and other wikis {contributed by Mattze96}</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=.28PC.29_Include_mwad_.28MediaWiki_API_dump.29_for_creating_XML_dumps_for_Wikia_and_other_wikis_.7Bcontributed_by_Mattze96.7D" title="Edit section: .28PC.29_Include_mwad_.28MediaWiki_API_dump.29_for_creating_XML_dumps_for_Wikia_and_other_wikis_.7Bcontributed_by_Mattze96.7D" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h3>
    <p>
      For those who are unaware, Mattze96 was the amazing developer who contributed the original HTTP Server code. This time, Mattze96 contributed mwad: the MediaWiki API dump tool. This tool allows creating XML dumps for Wikia and other wikis (<a href="https://wiki.archlinux.org/" rel="nofollow" class="external free">https://wiki.archlinux.org/</a>).
    </p>
    <p>
      If you use XOWA for Wikia wikis, or other non-Wikimedia wikis, you definitely want to try it out. For more info, see <a href="http://xowa.org/home/wiki/App/Import/mwad.html" id="xolnki_17" title="App/Import/mwad">App/Import/mwad</a> as well as <a href="https://github.com/Mattze96/mwad" rel="nofollow" class="external free">https://github.com/Mattze96/mwad</a> and <a href="https://github.com/gnosygnu/xowa/issues/66" rel="nofollow" class="external free">https://github.com/gnosygnu/xowa/issues/66</a>
    </p>
    <h3>
      <span class="mw-headline" id=".28PC.29_Fix_minor_Wikibase_issues.2C_including_wikibase-item">(PC) Fix minor Wikibase issues, including wikibase-item</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=.28PC.29_Fix_minor_Wikibase_issues.2C_including_wikibase-item" title="Edit section: .28PC.29_Fix_minor_Wikibase_issues.2C_including_wikibase-item" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h3>
    <p>
      There are two issues here:
    </p>
    <ul>
      <li>
        <b>Scribunto failure due to wikibase-item</b>: On a low level, XOWA was using the term "wikibase-entityid". Instead, it should have been "wikibase-item". This was causing an error in Scribunto that generated script errors on many ht.w pages
      </li>
      <li>
        <b>species.wikimedia.org links were not showing in the "In Other Languages" section</b>: This is a fairly minor issue. XOWA shows "In other languages" at the bottom of the page. Due to a change in 3.6.4.1, links to species.wikimedia.org were not showing
      </li>
    </ul>
    <h3>
      <span class="mw-headline" id=".28PC.29_Target_Java_1.7.2C_not_Java_1.8">(PC) Target Java 1.7, not Java 1.8</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=.28PC.29_Target_Java_1.7.2C_not_Java_1.8" title="Edit section: .28PC.29_Target_Java_1.7.2C_not_Java_1.8" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h3>
    <p>
      I noticed that I accidentally bumped the Java version requirement from 1.7 to 1.8 back in 2016-03. v3.7.2.1 now requires Java 1.7 only
    </p>
    <h3>
      <span class="mw-headline" id="Next_release:_v3.7.3">Next release: v3.7.3</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=Next_release:_v3.7.3" title="Edit section: Next_release:_v3.7.3" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h3>
    <ul>
      <li>
        <b>Table of contents minutiae</b>: There are a few minor bugs for TOC. In addition, it still needs full integration with Wikivoyage. Both of these will be part of the next release
      </li>
      <li>
        <b>mwad support</b>: I'm going to try integrating this into the XOWA status bar.
      </li>
      <li>
        <b>Wikis</b>: I'm uploading French this week and then will shift to English Wikipedia for next week week.
      </li>
      <li>
        <b>Redlinks for HTTP Server</b>: This slipped from this week's schedule. I'm going to keep it on the schedule for next week, but it may go another week.
      </li>
    </ul>
    <h2>
      <span class="mw-headline" id="Release:_v3.7.1.2_.282016-07-03_23:40_Sun.29">Release: v3.7.1.2 (2016-07-03 23:40 Sun)</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=Release:_v3.7.1.2_.282016-07-03_23:40_Sun.29" title="Edit section: Release:_v3.7.1.2_.282016-07-03_23:40_Sun.29" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h2>
    <h3>
      <span class="mw-headline" id=".28PC_.26_Android.29_Fix_broken_search_for_multiple_words_in_2016-05_wikis_and_earlier">(PC &amp; Android) Fix broken search for multiple words in 2016-05 wikis and earlier</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=.28PC_.26_Android.29_Fix_broken_search_for_multiple_words_in_2016-05_wikis_and_earlier" title="Edit section: .28PC_.26_Android.29_Fix_broken_search_for_multiple_words_in_2016-05_wikis_and_earlier" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h3>
    <p>
      This fix was reported in <a href="https://github.com/gnosygnu/xowa/issues/64" rel="nofollow" class="external free">https://github.com/gnosygnu/xowa/issues/64</a> and <a href="https://github.com/gnosygnu/xowa/issues/65" rel="nofollow" class="external free">https://github.com/gnosygnu/xowa/issues/65</a>
    </p>
    <p>
      I broke then multiple-word search function when tweaking the search algorithm to reduce the importance of shorter pages. This bug affected 2016-05 wikis and earlier. I missed it because I'm working on 2016-06 wikis.
    </p>
    <p>
      I put a fix in now and tested with a 2016-05 copy of English Wikipedia.
    </p>
    <p>
      Thanks to William and Ope30 for reporting these issues!
    </p>
    <h2>
      <span class="mw-headline" id="Release:_v3.7.1.1_.282016-07-03_18:00_Sun.29">Release: v3.7.1.1 (2016-07-03 18:00 Sun)</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=Release:_v3.7.1.1_.282016-07-03_18:00_Sun.29" title="Edit section: Release:_v3.7.1.1_.282016-07-03_18:00_Sun.29" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h2>
    <p>
      The PC version is a minor release. It adds Gallery support for HTML dtabases.
    </p>
    <p>
      The Android version is a minor release. It fixes a number of severe crashes for outlier situations.
    </p>
    <h3>
      <span class="mw-headline" id=".28Wiki.29_2016-06_German_Wiktionary.2C_Wikisource.2C_Wikivoyage.2C_Wikiquote.2C_Wikibooks.2C_Wikiversity.2C_and_Wikinews">(Wiki) 2016-06 German Wiktionary, Wikisource, Wikivoyage, Wikiquote, Wikibooks, Wikiversity, and Wikinews</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=.28Wiki.29_2016-06_German_Wiktionary.2C_Wikisource.2C_Wikivoyage.2C_Wikiquote.2C_Wikibooks.2C_Wikiversity.2C_and_Wikinews" title="Edit section: .28Wiki.29_2016-06_German_Wiktionary.2C_Wikisource.2C_Wikivoyage.2C_Wikiquote.2C_Wikibooks.2C_Wikiversity.2C_and_Wikinews" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h3>
    <p>
      These wikis are available at <a href="http://xowa.org/home/wiki/Special:XowaDownloadCentral.html" id="xolnki_18" title="Special:XowaDownloadCentral" class="xowa-visited">Download Central</a>.
    </p>
    <h3>
      <span class="mw-headline" id=".28PC.29_Support_Gallery">(PC) Support Gallery</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=.28PC.29_Support_Gallery" title="Edit section: .28PC.29_Support_Gallery" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h3>
    <p>
      On the PC, the HTML databaes showed Galleries vertically and with incorrect styles (no gray border box).
    </p>
    <p>
      This build fixes some galleries for the existing 2016-06 wikis. Unfortunately, the other galleries can only be fixed in the next HTML dump: 2016-07 and beyond.
    </p>
    <h3>
      <span class="mw-headline" id=".28PC_.26_Android.29_More_minor_fixes_for_Download_Central_including_connection_disruption_and_WAKE_LOCK_fixes">(PC &amp; Android) More minor fixes for Download Central including connection disruption and WAKE_LOCK fixes</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=.28PC_.26_Android.29_More_minor_fixes_for_Download_Central_including_connection_disruption_and_WAKE_LOCK_fixes" title="Edit section: .28PC_.26_Android.29_More_minor_fixes_for_Download_Central_including_connection_disruption_and_WAKE_LOCK_fixes" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h3>
    <p>
      There are basically two types of fixes:
    </p>
    <ul>
      <li>
        <b>Show error when downloading</b>: A user reported intermittent problems with download central: <a href="https://github.com/gnosygnu/xowa/issues/63" rel="nofollow" class="external free">https://github.com/gnosygnu/xowa/issues/63</a> . A little later in the week, I discovered archive.org can sometimes drop a connection after a few hours. In these cases, XOWA would just stop without any indication. This version prints status messages to the screen, and also allows the user to resume
      </li>
      <li>
        <b>Android would sometimes time out</b>: Android sometimes stops XOWA while downloading. This version allows XOWA to keep Android awake (WAKE_LOCK) until downloads finish.
      </li>
    </ul>
    <h3>
      <span class="mw-headline" id=".28Android.29_Multiple_fixes_for_severe_crashes">(Android) Multiple fixes for severe crashes</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=.28Android.29_Multiple_fixes_for_severe_crashes" title="Edit section: .28Android.29_Multiple_fixes_for_severe_crashes" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h3>
    <p>
      There were a number of fixes for crashes in uncommon scenarios. Most of these involved switching SD cards, or deleting wikis outside XOWA. The crash was bad enough such that XOWA would not work unless the Storage files were cleared (or XOWA was reinstalled).
    </p>
    <p>
      These are fixed in this version. For more info, see the <a href="http://xowa.org/home/wiki/Change_log.html" id="xolnki_19" title="Change log">Change log</a>
    </p>
    <h3>
      <span class="mw-headline" id="Next_release:_v3.7.2">Next release: v3.7.2</span> <span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/wiki/Blog/2016-07?action=edit&amp;section_key=Next_release:_v3.7.2" title="Edit section: Next_release:_v3.7.2" class="xowa-hover-off">edit</a><span class="mw-editsection-bracket">]</span></span>
    </h3>
    <ul>
      <li>
        <b>Table of contents</b>: I did more work on the TOC, but wasn't able to integrate it for this release. It should be part of the next one.
      </li>
      <li>
        <b>Redlinks for HTTP Server</b>: This also didn't make it into this release.
      </li>
      <li>
        <b>Wikis</b>: I'm working on French next and adding them to Download Central.
      </li>
    </ul>
  
    </div>
  </div>
</div>


<div id="mw-head" class="noprint">
  <div id="left-navigation">
    <div id="p-namespaces" class="vectorTabs">
      <h3>Namespaces</h3>
      <ul>
        <li  id="ca-nstab-main" class="selected"><span><a id="ca-nstab-main-href" href="index.html">Page</a></span></li>
      </ul>
    </div>
  </div>
</div>

<div id='mw-panel' class='noprint'>
  <div id='p-logo'>
    <a style="background-image: url(https://gnosygnu.github.io/xowa/xowa_logo.png);" href="http://xowa.org/" title="Visit the main page"></a>
  </div>
  <div class="portal" id='xowa-portal-home'>
    <h3>XOWA</h3>
    <div class="body">
      <ul>
        <li><a href="http://xowa.org/index.html" title='Visit the main page'>Main page</a></li>
        <li><a href="http://xowa.org/screenshots.html" title='See screenshots of XOWA'>Screenshots</a></li>
        <li><a href="https://www.youtube.com/watch?v=q0qbXYXEH6M" title="See a video of XOWA Desktop in action">Video</a></li>
        <li><a href="http://xowa.org/home/wiki/Help/Download_XOWA.html" title='Download the XOWA application'>Download XOWA</a></li>
        <li><a href="http://xowa.org/home/wiki/Dashboard/Image_databases.html" title='Download offline wikis and image databases'>Download wikis</a></li>
      </ul>
    </div>
  </div>

  <div class="portal" id='xowa-portal-started'>
    <h3>Getting started</h3>
    <div class="body">
      <ul>
        <li><a href="http://xowa.org/home/wiki/App/Setup/System_requirements.html" title='Get XOWA&apos;s system requirements'>Requirements</a></li>
        <li><a href="http://xowa.org/home/wiki/App/Setup/Installation.html" title='Get instructions for installing XOWA'>Installation</a></li>
        <li><a href="http://xowa.org/home/wiki/App/Import/Simple_Wikipedia.html" title='Learn how to set up Simple Wikipedia'>Simple Wikipedia</a></li>
        <li><a href="http://xowa.org/home/wiki/App/Import/English_Wikipedia.html" title='Learn how to set up English Wikipedia'>English Wikipedia</a></li>
        <li><a href="http://xowa.org/home/wiki/App/Import/Other_wikis.html" title='Learn how to set up other Wikipedias'>Other Wikipedias</a></li>
      </ul>
    </div>
  </div>

  <div class="portal" id='xowa-portal-android'>
    <h3>Android</h3>
    <div class="body">
      <ul>
        <li><a href="http://xowa.org/home/wiki/Android/Setup.html" title='Setup XOWA on your Android device'>Setup</a></li>
        <li><a href="https://www.youtube.com/watch?v=jsMTBxGweUw" title="See a video of XOWA Android in action">Video</a></li>
      </ul>
    </div>
  </div>

  <div class="portal" id='xowa-portal-help'>
    <h3>Help</h3>
    <div class="body">
      <ul>
        <li><a href="http://xowa.org/home/wiki/Help/About.html" title='Get more information about XOWA'>About</a></li>
        <li><a href="http://xowa.org/home/wiki/Help/Contents.html" title='View a list of help topics'>Contents</a></li>
        <li><a href="http://xowa.org/home/wiki/Help/Media.html" title='Read what others have written about XOWA'>Media</a></li>
        <li><a href="http://xowa.org/home/wiki/Help/Feedback.html" title='Questions? Comments? Leave feedback for XOWA'>Feedback</a></li>
      </ul>
    </div>
  </div>
  
  <div class="portal" id='xowa-portal-blog'>
    <h3>Blog</h3>
    <div class="body">
      <ul>
        <li><a href="http://xowa.org/home/wiki/Blog.html" title='Follow XOWA''s development process'>Current</a></li>
      </ul>
    </div>
  </div>

  <div class="portal" id='xowa-portal-links'>
    <h3>Links</h3>
    <div class="body">
      <ul>
        <li><a href="http://dumps.wikimedia.org/backup-index.html" title="Get wiki datababase dumps directly from Wikimedia">Wikimedia dumps</a></li>
        <li><a href="https://archive.org/search.php?query=xowa" title="Search archive.org for XOWA files">XOWA @ archive.org</a></li>
        <li><a href="http://en.wikipedia.org" title="Visit Wikipedia (and compare to XOWA!)">English Wikipedia</a></li>
      </ul>
    </div>
  </div>

  <div class="portal" id='xowa-portal-donate'>
    <h3>Donate</h3>
    <div class="body">
      <ul>
        <li><a href="https://archive.org/donate/index.php" title="Support archive.org!">archive.org</a></li><!-- listed first due to recent fire damages: http://blog.archive.org/2013/11/06/scanning-center-fire-please-help-rebuild/ -->
        <li><a href="https://donate.wikimedia.org/wiki/Special:FundraiserRedirector" title="Support Wikipedia!">Wikipedia</a></li>
        <li><a href="http://xowa.org/home/wiki/Help/Donate.html" title="Support XOWA!">XOWA</a></li>
      </ul>
    </div>
  </div>
  
</div>
</body>
</html>